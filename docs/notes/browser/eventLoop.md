# 进程和线程
## 进程
- 计算机调度任务时，是以进程为单位，也是计算机分配任务的最小单位。
    1. 浏览器就是一个多线程的(每个页卡都是一个进程)
    2. 浏览器有一个主进程用户页面
    3. 处理请求,网络请求,绘图绘制,GPU渲染进程还有浏览器插件都是一个独立的进程。
    4. 进程里面可以包含N个线程。
> 前端比较关心的是渲染进程
## 渲染进程
- js引擎(单线程),执行js代码和UI渲染是互斥的(共用一个线程)。
- 事件线程： click,定时器,ajax也是一个独立的线程。
- 事件触发线程：调度线程,处理事件callback,定时器到时间后,ajax成功或者失败后(称为EventLoop)

## EventLoop
   <img src="/Learn-notes/browser/eventLoop.png" />

  1. 常见的”异步“方法分为两类，宏任务和微任务
   - 宏任务一般是宿主提供的。
     - 宏任务包括：`script`,`setTimeOut`,`setInterval`,`setImmediate`,`I/O`,`UI rendering`
   - 微任务一般是语法标准提供的。
     - 微任务包括：`promise.then`,`process.nextTick`,`Object.observe`,`MutationObserver`
     
  2. js的执行循序
  - 默认代码从上至下，执行环境通过script来执行(宏任务)
  - 在代码执行的过程中，调用了promise,click事件，不会立即执行，会放入对应的宏任务或微任务队列。
  - 异步方法划分队列，分别存放在 微任务(立即存放)，宏任务(到事件或者触发了放入)
  - script执行完毕后，会清空所有微任务
  - 会渲染页面(UI渲染)不是每次都调用
  - 在取出宏任务的第一个(宏任务队列里有多个比如十个定时器都到时间了他会取出第一个),在去以上loop执行。
   